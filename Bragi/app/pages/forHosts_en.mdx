import { Meta } from '../components/Meta';
import { Link } from 'wouter';
import { env } from '../env';

<Meta title='Tournaments - Mahjong Pantheon'
      description='How to host a tournament using Mahjong Pantheon' />

### Hosting a tournament with Pantheon

#### 1. Basics
<section className='sparseList'>
- The system may work both in tournament mode and club rating mode. In tournament mode, there is timer,
  automatic seating generator, but players can't be added or removed any time.
- There is automatic seating generation and also a predefined seating mode.
- The winner is defined by summary score of all games played.
- Main address of admin panel - <a href={env.urls.sigrun} target='_blank'>{env.urls.sigrun}</a>.
  The list of events you are an administrator at will be there. Use "Actions" menu to get to the management page
  you need. When in particular event management mode, you can navigate between event management pages using menu
  in left column.
- Default settings (can be changed by tournament administrator):
  - The game session lasts for 75 minutes.
  - Uma is 15000/5000.
</section>

#### 2. Players management
<section className='sparseList'>
- The tournament administrator should add to the event all tournament players in advance on "Manage players" page.
- To find a particular player, start typing his name/surname in the input field. You will see found players in
  dropdown menu. Selecting a player in the menu will add them to the event. Note that you will not see all added
  players immediately - you will need to refresh the page first.
- If a player can't be found, notify them about it - probably, they forgot to fill in theis name and surname in
  their profile.
- For each player there are several buttons in the list:
  - "Exclude from seating" - this button is useful if some of the players are not able to continue to participate
    and count of such players exceeds cound of available replacement players. You can exclude four or more players
    (e.g. whole table or several tables) from the tournament using this button. Also you can exclude from the
    tournament seating all the non-playing referees, who are still required to be in the list.
  - "Remove player" - this button is available when no games are played yet. You can remove from the list a player
    added by accident.
  - "Make an administrator" - this button gives a player access to the admin panel. Such player can cancel hands,
    start the timer, generate seatings and other. Non-playing referees are required to be given admin privileges,
    but they should be excluded from the seating.
  - There is also a "Replace player" button to the right of player title, a dialog will pop up when it's pressed.
    You can select a replacement player (found by name/surname) for the player who can't participate in current
    session here. The player who has a replacement selected will achieve -30000 points in the end of game session no
    matter what score they gained during the game. If a player gets back to the tournament, the replacement should be
    nullified - please do it before "Confirm results" button is pressed, otherwise the player will still gain -30000
    points for current game. Please don't set anyone who was already added to the rating as a replacement player -
    it may lead to unforeseen consequences.
- The system will not allow you to start the game session if the count of active players is not divisible by 4.
  If required, the administrator may remove someone from the tournament or add some additional players (there are
  "Replacement player 1-4" accounts for that; please ask you service administrator to create them if you can't find
  these accounts).
</section>

#### 3. Running the tournament
<section className='sparseList'>
- The tournament session may have following statuses:
  - "Not ready": players count is not divisible by 4, can't continue
  - "Not started": on this stage, you can generate a seating.
  - "Seating...": seating is in progress, please wait
  - "Seating ready": seating is generated, but timer was not started yet. You'll have a "Start timer" button, which
    you should press when all players have taken their seats. In case of some mistake during seating generation,
    there is a "Reset seating" button.
  - "Session started": games are started. There is a "Reset timer" button for some emergency situations.
  - "Ready to approve": all games are finished, but results are not confirmed. You still can cancel the last hand of
    any game. There is a "Confirm results" button to get to the next stage. After confirmation, new session begins
    with "Not started" status.
- When seating is ready, each player will see the table number in their mobile assistant (in the central part of the page).
- Timer and seating table are also can be found on "Timer and seating" page in the ratings service. Tournament
  administrators may show this page on some projector or big screen in the tournament hall, if there are any.
- Games are started by pressing the "Start timer" button. The tournament administrator should also give a clear signal
  for players to start the game.
- Penalties:
  - You can add some arbitrary penalties (e.g. for behavior or being late) in amount of 100 to 20000 game points.
    You can use the "Penalties" page for that.
  - Penalty reasons are visible to every player and also are listed in the penalties list in admin panel.
  - Penalties can be cancelled any time (e.g. if a penalty was added by mistake).
  - When a penalty is added, the player get notification through messenger bot (if it's set up).
- The administrator can watch the tables state on "Manage games" page. You can't confirm the results until all tables
  are finished with their game sessions.
- If players have mistaken during logging the game, the administrator may cancel the last logged hand with a
  "Cancel hand" button on "Manage games" page.
- Please notify the players clearly that they need to call the referee to cancel the hand, because only referee
  can make such decision.
</section>

### Hosting local club games with Pantheon

#### 1. Basics
<section className='sparseList'>
- The system may work both in tournament mode and club rating mode. In club mode, there is no timer or automatic
  seating generator, but players can be added or removed any time.
- The winner is defined by summary score of all games played.
- Main address of mobile assistant - <a href={env.urls.tyr} target='_blank'>{env.urls.tyr}</a>.
- Main address of admin panel - <a href={env.urls.forseti} target='_blank'>{env.urls.forseti}</a>. The list of
  events you are an administrator at will be there. Use "Actions" menu to get to the management page you need.
  When in particular event management mode, you can navigate between event management pages using menu in left column.
- Default settings (can be changed by tournament administrator):
  - Uma is 15000/5000.
</section>

#### 2. Players management
<section className='sparseList'>
- The tournament administrator should add to the event all tournament players in advance on "Manage players" page.
- To find a particular player, start typing his name/surname in the input field. You will see found players in dropdown
  menu. Selecting a player in the menu will add them to the event.
- If a player can't be found, notify them about it - probably, they forgot to fill in theis name and surname in their profile.
- For each player there are several buttons in the list:
- "Remove player" - this button is available when no games are played yet. You can remove from the list a player added by accident.
- "Make an administrator" - this button gives a player access to the admin panel. Such player can cancel hands and add penalties.
</section>

#### 3. Running games
<section className='sparseList'>
- In club mode, players can start games anytime they want using their mobile assistants. There is a "New game" button
  on main page for that. After pressing on the button, you should select participants from the list (note that there
  will only be players that are added to the rating by administrator). You also can shuffle players at the table before
  the game start.
- If players made a mistake while starting new game (e.g. added wrong person to the table), they can ask administrator
  to cancel the game. Every table has a "Remove game" button on the "Manage games" page. The button is visible only if
  there are no hands logged already, otherwise there will be a "Cancel hand" button.
- If players made a mistake while logging a hand, the administrator can cancel their last logged hand. Each table with
  at least one hand logged will have a "Cancel hand" button on the "Manage games" page.
- You should clearly notify players that only administrator of the club rating can cancels hands and games. The final
  decision about cancellation is made by the administrator.
- Note that you can't cancel last hand of the game if any of players of that game have already started a new game.
</section>

### Additional information

- <Link onClick={() => { window.scrollTo({ top: 0, behavior: 'smooth' }); }} to='/seatings'>How seatings work</Link>
