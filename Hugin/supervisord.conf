[supervisord]
user             = root
nodaemon         = true
logfile          = /dev/stderr
logfile_maxbytes = 0
loglevel         = warn

[inet_http_server]
port     = 127.0.0.1:30016
username = user
password = 123456

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl = http://127.0.0.1:30016
username  = user
password  = 123456

[program:rsyslog]
command         = rsyslogd -n
autostart       = true
autorestart     = true
startsecs       = 2
stopwaitsecs    = 2
stdout_logfile  = /dev/stdout
stderr_logfile  = /dev/stderr
stdout_logfile_maxbytes = 0
stderr_logfile_maxbytes = 0

[program:nginx]
command         = nginx -g "daemon off;"
autostart       = true
autorestart     = true
directory       = /etc/nginx
startsecs       = 0

[program:php]
command         = php-fpm83 -R -F
autostart       = true
autorestart     = true
directory       = /etc/php83
startsecs       = 0

[program:memcached]
command         = memcached -u user
autostart       = true
autorestart     = true
startsecs       = 0

[program:redis]
command         = redis-server
autostart       = true
autorestart     = true
startsecs       = 0

[program:prometheus]
command         = /usr/local/bin/prometheus --config.file=/etc/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries --web.listen-address=0.0.0.0:9090
autostart       = true
autorestart     = true
startsecs       = 0

[program:nodeexporter]
command         = /usr/local/bin/node_exporter --web.listen-address=:9100
autostart       = true
autorestart     = true
startsecs       = 0
